<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Feliz Cumple Esther 💖</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap');

        body {
            margin: 0;
            padding: 0;
            font-family: 'Quicksand', sans-serif;
            background: #0d0d2b;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: #fff;
            transition: background 2s ease-in-out;
            position: relative;
        }

        .stars {
            width: 100%;
            height: 100%;
            background: transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
            position: absolute;
            top: 0;
            left: 0;
            animation: moveStars 200s linear infinite;
            z-index: 0;
            opacity: 0.8;
        }

        @keyframes moveStars {
            from {
                background-position: 0 0;
            }

            to {
                background-position: -10000px 5000px;
            }
        }

        .party-bg {
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            z-index: 5;
            position: relative;
            padding: 20px;
        }

        #countdown {
            background: rgba(0, 0, 0, 0.5);
            padding: 30px 50px;
            border-radius: 25px;
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.3);
            animation: pulse 3s infinite alternate;
            transition: opacity 1s ease, transform 1s ease;
            max-width: 650px;
            width: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #countdown h1 {
            font-family: 'Pacifico', cursive;
            font-size: 2.2rem;
            color: #ffdf6c;
            margin-bottom: 15px;
        }

        #countdown p {
            font-size: 1.3rem;
            margin: 8px 0;
        }

        @keyframes pulse {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.05);
            }
        }

        .card {
            background: white;
            color: #333;
            border-radius: 25px;
            padding: 40px;
            width: 90vw;
            /* <- esto hace que se ajuste al 90% de la ventana */
            max-width: 1000px;
            /* <- ancho máximo */
            margin: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scaleY(0);
            transform-origin: top;
            transition: transform 1s ease-in-out;
            z-index: 5;
            overflow-y: auto;
            max-height: 90vh;
        }

        .card.show {
            transform: translate(-50%, -50%) scaleY(1);
        }

        .card h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: #ff4d6d;
            animation: glow 2s infinite alternate;
        }

        .card p {
            font-size: 1.2rem;
            margin-top: 20px;
            text-align: justify;
        }

        @keyframes glow {
            0% {
                text-shadow: 0 0 5px #ffdf6c, 0 0 10px #ffdf6c;
            }

            100% {
                text-shadow: 0 0 20px #ffdf6c, 0 0 30px #ffdf6c;
            }
        }

        .balloon {
            width: 80px;
            height: 100px;
            border-radius: 50%;
            position: absolute;
            bottom: -150px;
            animation: float 10s infinite ease-in;
            z-index: 1;
            opacity: 0.85;
        }

        .balloon:before {
            content: '';
            position: absolute;
            width: 2px;
            height: 60px;
            background: #444;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
        }

        @keyframes float {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(-120vh);
            }
        }

        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            opacity: 0.9;
            pointer-events: none;
            z-index: 2;
            border-radius: 50%;
        }

        .particles {
            position: absolute;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            pointer-events: none;
            animation: drift 10s linear infinite;
        }

        @keyframes drift {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(100vw, 100vh);
            }
        }

        .sparkle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: gold;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.8;
            animation: sparkleAnim 1s linear infinite;
        }

        @keyframes sparkleAnim {
            0% {
                transform: scale(1);
                opacity: 0.8;
            }

            50% {
                transform: scale(1.5);
                opacity: 1;
            }

            100% {
                transform: scale(1);
                opacity: 0.8;
            }
        }

        .slider {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 20px auto;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .slides {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .slides img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .slides img[src="esther_selfie_2.jpeg"] {
            object-fit: contain;
        }

        .slides img.active {
            opacity: 1;
        }

        .slider-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: #fff;
            font-size: 2rem;
            padding: 5px 12px;
            cursor: pointer;
            border-radius: 50%;
            z-index: 10;
        }

        .prev {
            left: -50px;
        }

        .next {
            right: -50px;
        }

        #revealBtn {
            display: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #ff6a6a, #ffd36a);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            color: white;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            animation: btnGlow 2s infinite alternate;
            margin-top: 15px;
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        @keyframes btnGlow {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <div class="stars"></div>

    <div class="container">
        <!-- Countdown inicial -->
        <div id="countdown">
            <h1>✨🥳 ¡Bienvenida, Esthercita! 🥳✨</h1>
            <p id="countdownText"></p>
            <p style="font-size:1.1rem; margin-top:15px;">Prepárate para sonreír 💖</p>
            <button id="revealBtn">🎉 Abrir regalo 🎉</button>
        </div>

        <!-- Tarjeta de cumpleaños -->
        <div id="birthdayCard" class="card">
            <h1>✨ Feliz Cumpleaños Esther ✨</h1>
            <div class="slider">
                <div class="slides">
                    <img src="esther_selfie_1.jpeg" class="slide active" alt="Esther">
                    <img src="1.png" class="slide" alt="Esther">
                    <img src="esther_selfie_2.jpeg" class="slide" alt="Esther">
                    <img src="2.png" class="slide" alt="Esther">
                </div>
                <button class="slider-button prev">&#10094;</button>
                <button class="slider-button next">&#10095;</button>
            </div>
            <p>
                En este día tan especial para ti quiero decirte lo agradecido que estoy por tenerte en mi vida.
                Gracias por ser exactamente quien eres: auténtica, única, brillante y con ese carisma que hace que
                todo a tu alrededor se sienta más ligero, más bonito.
                Gracias por tu bondad, por esas pequeñas cosas que haces y que a veces ni notas, pero que para mí lo
                significan todo.<br><br>

                Me encanta cómo logras iluminar cualquier momento con tu risa, tu manera de hablar y esa energía que
                solo tú tienes.
                Me siento afortunado de poder compartir aunque sea un instante contigo, de aprender de tu forma de
                ver la vida y de sentirme acompañado aunque estemos lejos.
                Cada detalle tuyo, cada gesto, hace que te admire más y más.<br><br>

                Quiero que sepas que eres de mis personas favoritas en el mundo, y que tenerte cerca, aunque sea en
                la distancia, es un regalo que valoro más de lo que puedo decir.
                Espero que hoy te sientas tan especial como realmente eres, que disfrutes cada momento, cada
                sonrisa, cada abrazo, y que recuerdes lo mucho que eres querida y admirada.<br><br>

                No cambies nunca, Esther. Nunca pierdas esa autenticidad, esa ternura y esa fuerza que te hace ser
                simplemente tú.
                Gracias por existir, por iluminar mi mundo y por ser alguien a quien siempre quiero ver
                feliz.<br><br>

                Te quiero muchísimo 💖<br><br>
                <cite>Con todo mi amor, Sebas</cite>
            </p>

            <audio id="birthdayAudio" src="sound.mp3" preload="auto" controls style="margin-top:15px;"></audio>
        </div>
    </div>

    <script>
        const countdown = document.getElementById("countdown");
        const countdownText = document.getElementById("countdownText");
        const card = document.getElementById("birthdayCard");
        const revealBtn = document.getElementById("revealBtn");
        const stars = document.querySelector(".stars");

        const unlockDate = new Date("August 22, 2025 00:00:00").getTime();

        const timer = setInterval(() => {
            const now = new Date().getTime();
            const distance = unlockDate - now;

            if (distance > 0) {
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                countdownText.innerHTML = `Se desbloqueará exactamente en <b>${hours}h ${minutes}m ${seconds}s</b> ⏳`;
            } else {
                clearInterval(timer);
                countdownText.innerHTML = `¡Es la hora! 🎉`;
                revealBtn.style.display = "inline-block";
            }
        }, 1000);

        revealBtn.addEventListener("click", () => {
            countdown.style.opacity = 0;
            countdown.style.transform = "scale(0.9)";
            setTimeout(() => countdown.style.display = "none", 800);

            card.classList.add("show");
            document.body.classList.add("party-bg");
            stars.remove();

            const audio = document.getElementById("birthdayAudio");
            audio.play().catch(err => console.log("Audio bloqueado:", err));

            // Globos
            for (let i = 0; i < 20; i++) {
                let balloon = document.createElement("div");
                balloon.classList.add("balloon");
                balloon.style.left = Math.random() * window.innerWidth + "px";
                balloon.style.backgroundColor = `hsl(${Math.random() * 360},70%,60%)`;
                balloon.style.animationDuration = (8 + Math.random() * 5) + "s";
                document.body.appendChild(balloon);
            }

            // Confeti
            setInterval(() => {
                let c = document.createElement("div");
                c.className = "confetti";
                c.style.left = Math.random() * window.innerWidth + "px";
                c.style.top = "-10px";
                c.style.backgroundColor = `hsl(${Math.random() * 360},80%,70%)`;
                c.style.width = (5 + Math.random() * 7) + "px";
                c.style.height = c.style.width;
                document.body.appendChild(c);
                let fall = setInterval(() => {
                    c.style.top = parseInt(c.style.top) + (2 + Math.random() * 3) + "px";
                    c.style.left = parseInt(c.style.left) + (Math.random() * 4 - 2) + "px";
                    if (parseInt(c.style.top) > window.innerHeight) { c.remove(); clearInterval(fall); }
                }, 16);
            }, 120);

            // Partículas
            for (let i = 0; i < 50; i++) {
                let p = document.createElement('div');
                p.classList.add('particles');
                p.style.left = Math.random() * window.innerWidth + 'px';
                p.style.top = Math.random() * window.innerHeight + 'px';
                document.body.appendChild(p);
            }

            // Destellos
            setInterval(() => {
                let s = document.createElement('div');
                s.className = 'sparkle';
                s.style.left = Math.random() * card.offsetWidth + 'px';
                s.style.top = Math.random() * card.offsetHeight + 'px';
                card.appendChild(s);
                setTimeout(() => s.remove(), 1000);
            }, 300);

            // Slider
            const slides = document.querySelectorAll(".slide");
            const prevBtn = document.querySelector(".prev");
            const nextBtn = document.querySelector(".next");
            let index = 0;
            function showSlide(i) {
                slides.forEach(sl => sl.classList.remove("active"));
                if (i < 0) index = slides.length - 1;
                else if (i >= slides.length) index = 0;
                else index = i;
                slides[index].classList.add("active");
            }
            prevBtn.addEventListener("click", () => showSlide(index - 1));
            nextBtn.addEventListener("click", () => showSlide(index + 1));
            setInterval(() => showSlide(index + 1), 5000);
        });
    </script>
</body>

</html>